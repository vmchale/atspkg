.\" Automatically generated by Pandoc 2.1.1
.\"
.TH "atspkg (1)" "" "" "" ""
.hy
.SH NAME
.PP
atspkg \- a build tool for ATS
.SH DESCRIPTION
.PP
\f[B]atspkg\f[] is a build tool for the ATS2 language, written in
Haskell.
.SH SYNOPSIS
.PP
atspkg build
.PP
atspkg install
.PP
atspkg clean
.PP
atspkg test
.SH SUBCOMMANDS
.PP
\f[B]build\f[] \- Build all binary targets listed in atspkg.dhall
.PP
\f[B]test\f[] \- Run all tests listed in atspkg.dhall
.PP
\f[B]clean\f[] \- Clean current project directory
.PP
\f[B]nuke\f[] \- Remove all local files installed by \f[B]atspkg\f[]
.PP
\f[B]remote\f[] \- Download a tarball from the given URL and try to
build its binary targets
.PP
\f[B]install\f[] \- Install binary targets to $HOME/.local/bin and
relevant manpages to $HOME/.local/share/man/man1
.PP
\f[B]upgrade\f[] \- Download the latest binary release of
\f[B]atspkg\f[], if available
.PP
\f[B]valgrind\f[] \- Run \f[B]valgrind\f[] on the generated binary
.PP
\f[B]run\f[] \- Run the generated binary
.PP
\f[B]check\f[] \- Check a package set to make sure it is well\-typed.
.PP
\f[B]list\f[] \- List all available packages in current package set.
.SH OPTIONS
.TP
.B \f[B]\-h\f[] \f[B]\-\-help\f[]
Display help
.RS
.RE
.TP
.B \f[B]\-V\f[] \f[B]\-\-version\f[]
Display version information
.RS
.RE
.TP
.B \f[B]\-c\f[] \f[B]\-\-no\-cache\f[]
Ignore cached configuration file
.RS
.RE
.TP
.B \f[B]\-r\f[], \f[B]\-\-rebuild\f[]
Rebuild all binary targets.
.RS
.RE
.TP
.B \f[B]\-l\f[], \f[B]\-\-no\-lint\f[]
Disable the build system linter
.RS
.RE
.TP
.B \f[B]\-t\f[], \f[B]\-\-target\f[]
Set the compilation target using its triple.
.RS
.RE
.TP
.B \f[B]\-v\f[], \f[B]\-\-verbose\f[]
Turn up the verbosity
.RS
.RE
.TP
.B \f[B]\-d\f[], \f[B]\-\-detailed\f[]
Enable detailed error messages when checking configuration files
.RS
.RE
.SH CONFIGURATION
.PP
\f[B]atspkg\f[] is configured with Dhall, in an atspkg.dhall file.
\f[B]atspkg\f[] can be configured to produce binary targets, static
library targets, shared object files, or plain C targets.
Artifacts can be linked against Haskell libraries if desired.
.PP
There is also a file $HOME/.config/atspkg/config.dhall which can be used
to configure all builds.
.SS TEMPLATES
.PP
There are several templates available for \f[B]pi\f[] (see
https://crates.io/crates/project_init for more details).
Several examples:
.IP
.nf
\f[C]
pi\ new\ ats\ project
\f[]
.fi
.IP
.nf
\f[C]
pi\ git\ vmchale/haskell\-ats\ ambitious\-project
\f[]
.fi
.IP
.nf
\f[C]
pi\ git\ vmchale/ats\-haskell\ weird\-project
\f[]
.fi
.SH BUGS
.PP
Please report any bugs you may come across to
https://github.com/vmchale/atspkg/issues (for issues in atspkg proper)
or https://hub.darcs.net/vmchale/ats/issues (for issues in supporting
libraries).
.SH COPYRIGHT
.PP
Copyright 2018.
Vanessa McHale.
All Rights Reserved.
.SH AUTHORS
Vanessa McHale<vamchale@gmail.com>.
